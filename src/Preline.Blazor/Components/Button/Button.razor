@namespace Preline.Blazor.Components
@inherits PrelineComponentBase

<button type="@Type" class="@Class" @attributes="AdditionalAttributes">
    @ChildContent
</button>

@code
{
    [Parameter] public RenderFragment? ChildContent { get; set; }

    [Parameter] public string Type { get; set; } = "button";
    [Parameter] public bool Pill { get; set; }
    [Parameter] public bool Block { get; set; }
    [Parameter] public Sizes Size { get; set; }
    [Parameter] public Variants Variant { get; set; }

    private string Class => new CssBuilder("inline-flex items-center gap-x-2 text-sm font-medium border disabled:opacity-50 disabled:pointer-events-none")
        .Add(SelectSize())
        .Add(SelectVariant())
        .Add(Pill ? "rounded-full" : "rounded-lg")
        .Add("w-full", Block)
        .Add(AdditionalAttributes)
        .Build();

    private string SelectSize() => Size switch
    {
        Sizes.Default => "py-3 px-4",
        Sizes.Small => "py-2 px-3",
        Sizes.Large => "p-4 sm:p-5",
        _ => throw new NotImplementedException()
    };

    private string SelectVariant() => Variant switch
    {
        Variants.Solid => "border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:outline-hidden focus:bg-blue-700",
        Variants.Outline => "border-gray-200 text-gray-500 hover:border-blue-600 hover:text-blue-600 focus:outline-hidden focus:border-blue-600 focus:text-blue-600 dark:border-neutral-700 dark:text-neutral-400 dark:hover:text-blue-500 dark:hover:border-blue-600 dark:focus:text-blue-500 dark:focus:border-blue-600",
        Variants.Ghost => "border-transparent text-blue-600 hover:bg-blue-100 hover:text-blue-800 focus:outline-hidden focus:bg-blue-100 focus:text-blue-800 dark:text-blue-500 dark:hover:bg-blue-800/30 dark:hover:text-blue-400 dark:focus:bg-blue-800/30 dark:focus:text-blue-400",
        Variants.Soft => "border-transparent bg-blue-100 text-blue-800 hover:bg-blue-200 focus:outline-hidden focus:bg-blue-200 dark:text-blue-400 dark:hover:bg-blue-900 dark:focus:bg-blue-900",
        Variants.White => "border-gray-200 bg-white text-gray-800 shadow-2xs hover:bg-gray-50 focus:outline-hidden focus:bg-gray-50 dark:bg-neutral-800 dark:border-neutral-700 dark:text-white dark:hover:bg-neutral-700 dark:focus:bg-neutral-700",
        Variants.Link => "border-transparent text-blue-600 hover:text-blue-800 focus:outline-hidden focus:text-blue-800 dark:text-blue-500 dark:hover:text-blue-400 dark:focus:text-blue-400",
        _ => throw new NotImplementedException()
    };

    public enum Sizes
    {
        Default,
        Small,
        Large
    }

    public enum Variants
    {
        Solid,
        Outline,
        Ghost,
        Soft,
        White,
        Link,
    }
}